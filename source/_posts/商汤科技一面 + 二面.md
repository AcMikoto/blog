---
title: 商汤科技一面 + 二面
toc: true
date: 2022-02-16 21:11:06
updated:
tags:
- 面经
categories:
- 面经
---

# 商汤一面 + 二面

## 一面

### 八股

1. C++三大特性？以及分别解释一下
封装、继承、多态

封装：隐藏对象的属性和实现细节，仅对外公开接口，控制在程序中属性的读和修改的访问级别，也能使得代码模块化，提高复用性。

继承： 继承允许我们依据一个类来定义另一个类，使得创建和维护一个应用程序变得很容易，提高了代码复用性和执行效率

多态：分为静态多态和动态多态，静态多态通常指重载，发生在编译期，动态多态就是我们常说的面向对象设计中的多态，是指通过基类指针指向派生类对象从而使得可以通过指向基类的引用和指针来操作这些对象，具体的通过虚函数和函数重写来实现。

2. 说一说函数重写?
重写是指派生类中存在重新定义的函数。其函数名，参数列表，返回值类型，所有必须统计类中被重写的函数一致。只有函数体不同，派生类对象调用时会调用派生类的重写函数，不会调用被重写函数，重写的基类中被重写的函数必须有virtual修饰。另外，当返回值是当前类指针时，返回值可以不同，此时叫做协变函数，协变函数是重写的特例。

3. 构造函数能不能是虚函数？为什么？
不能，因为一个是没有必要，另外一个是不能是虚函数，因为构造函数是在创建对象的时候自动调用，不可能通过父类的指针或引用调用，所以不必是虚函数。另外，由于虚函会会对应一个虚函数表，虚函数表需要占用空间，而类对象需要实例化之后才有内存空间分配，因此存在悖论，所以构造函数不能是虚函数。

4. 析构函数能不能虚函数？为什么?
分两种情况，当类没有派生类时，析构函数最好不要设置成为虚函数因为会增加空间的浪费，而如果存在派生类，那么我们就应该将析构函数写成是虚函数，否则会产生子类无法正确析构，造成内存泄露的问题。

5. 如果有虚函数是不是一个类对应一张虚函数表？
是的

6. 什么是深拷贝浅拷贝?

浅拷贝：又称为值拷贝，将源对象的值拷贝到目标对象中去，本质上来说是原对象和目标对象公用一份实体，只是所引用的变量名不同。
深拷贝：拷贝到时候先开辟出和源对象大小一样的空间，然后将源对象的内容拷贝到目标对象中去。深拷贝情况下不会出现重复释放同一块内存的错误。

7. 说一说我常用的stl和底层实现?
vector 下标O1访问，尾端O1插入删除
底层实现：一段连续内存，动态扩容，不同编译器申请更多内存空间的量不同，整体移动
deque 下标On访问，两端O1插入删除
底层实现：deque容器储存空间的空间是由一段段等长的连续空间构成，各段空间之间并不一定连续。deque容器的分段存储结构，提高了在序列两端添加或删除元素的效率，也使得迭代器底层实现更加复杂。
stack 先进先出
底层实现 容器适配器默认基于deque实现，但是可以添加参数将底层容器修改为vector，速度更快。

queue：先进后出
底层实现： 容器适配器，基于deque实现

priority_queue 优先队列（堆）
底层实现：容器适配器，底层是vector，采用堆算法将vector构造成堆，一般是二叉堆，主要操作是递归的up、down等操作

unordered_map or unordered_set 无序关联式容器
底层实现： 散列表，通过哈希取模，常用解决冲突的方法有开放寻址法和拉链法等

set multiset map等 有序关联式容器
底层实现： 红黑树，本质上是一颗二叉查找树，通过着色以及左旋右旋等操作维持树的平衡，使得操作平均复杂度为logn

8. 线程的同步方式？
互斥锁、条件变量、读写锁、信号量

### 算法

1. 偏实际应用的题，自动驾驶中，由于物体的运动，连续拍摄的图片中物体位置可能发生变化，如何判断两个物体是否是同一物体?
回答：基于像素点群的对比

追问：如果对于两张图片，已经给定一些物品的可能的相似度，如何确定对应关系？
一开始没听懂意思，说按相似度从大到小排序依次贪心对比，面试官说这么贪心可能存在某个物品和另一个相似度更高，不太对。于是想了一下，回答说二分图最大权匹配或者是最大费用最大流算法都可以解决。

2. 给两个矩形上下左右四条边的位置，求交并比？（coding）

## 二面

主要是工作介绍 + 个人现在工作的介绍，有何不可替代的工作内容?

### 算法：
1. 常用排序算法特点介绍以及实现方法描述一遍

2. 数组求最大和次大值？实现数组topK算法
    线性扫描，快速选择算法（最优复杂度），or堆排序
3. 鸡蛋掉落问题
    动态规划，完了发现lc有原题

<!--more-->
